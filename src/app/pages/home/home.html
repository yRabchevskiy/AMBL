<div class="home-container">
  <h1>üè† –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å (–¢–µ—Å—Ç –ë–î)</h1>

  <section class="form-section">
    <h3>–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h3>
    <form (submit)="onSubmit(); $event.preventDefault()" class="user-form">
      <div class="field">
        <label>–Ü–º'—è:</label>
        <input type="text" [(ngModel)]="user.name" name="name" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è" required>
      </div>

      <div class="field">
        <label>Email:</label>
        <input type="email" [(ngModel)]="user.email" name="email" placeholder="example@mail.com" required>
      </div>

      <div class="field">
        <label>–†–æ–ª—å:</label>
        <select [(ngModel)]="user.role" name="role">
          <option value="user">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</option>
          <option value="admin">–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</option>
        </select>
      </div>

      <button type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏ –≤ MongoDB</button>
    </form>
  </section>

  <hr>

  <section class="list-section">
    <div class="list-header">
      <h3>–°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∑ MongoDB)</h3>
      <button class="refresh-btn" (click)="loadUsers()">üîÑ –û–Ω–æ–≤–∏—Ç–∏</button>
    </div>

    <div class="container" *ngIf="users$ | async as users; else loading">
      <div *ngFor="let user of users" class="user-card">
        {{ user.name }} ({{ user.email }})
      </div>

      <p *ngIf="users.length === 0">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>
    </div>

    <ng-template #loading>
      <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ MongoDB...</p>
    </ng-template>
  </section>
</div>